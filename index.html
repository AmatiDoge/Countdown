<style>
  body {
    font-family: sans-serif;
    background-color: #f0f8ff;
    margin: 20px;
  }
  h2 {
    text-align: center;
    margin-bottom: 40px;
  }
  .tables {
    display: flex;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
  }
  table {
    border-collapse: collapse;
    width: 440px;
    background-color: #f9fbfd;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    border-radius: 12px;
    overflow: hidden;
    direction: rtl;
  }
  th {
    background-color: #cbe5ff;
    padding: 12px;
    font-size: 18px;
  }
  td {
    padding: 10px 16px;
    border-top: 1px solid #e0e0e0;
    font-size: 16px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .countdown {
    font-weight: bold;
    font-family: monospace;
    direction: ltr;
  }
  .row-icon {
    margin: 0 10px;
  }
  .green { background-color: #e5fbe5; }
  .yellow { background-color: #fffbe5; }
  .red { background-color: #ffe5e5; }
  .gray { background-color: #eeeeee; }
</style>

<h2>×œ×•×— ×–×× ×™× - ×¡××¡×˜×¨ ×' ×•×ª×•×›× ×™×ª ×”××¦×˜×™×™× ×™×</h2>
<div class="tables">

<table id="mainTable">
  <thead>
    <tr><th>××™×¨×•×¢</th><th>×¡×¤×™×¨×” ×œ××—×•×¨</th></tr>
  </thead>
  <tbody id="mainEvents"></tbody>
</table>

<table id="honorsTable">
  <thead>
    <tr><th>Honors Event</th><th>Countdown</th></tr>
  </thead>
  <tbody id="honorsEvents"></tbody>
</table>

</div>

<script>
const mainEvents = [
  { title: '×©×™×˜×•×ª ××—×§×¨ ×•×”×¢×¨×›×” - ×”×’×©×ª ××˜×œ×”', date: '2025-11-27T09:00:00', icon: 'ğŸ“˜' },
  { title: '×‘×¡×™×¡ ×‘×™×•×œ×•×’×™ ×©×œ ×”×”×ª× ×”×’×•×ª - ×‘×•×—×Ÿ', date: '2025-12-02T13:45:00', icon: 'ğŸ§ ' },
  { title: '×ª×”×œ×™×›×™× ×§×•×’× ×˜×™×‘×™×™× ×‘×³ - ×‘×•×—×Ÿ', date: '2025-12-07T13:45:00', icon: 'ğŸ§©' },
  { title: '×‘×¡×™×¡ ×‘×™×•×œ×•×’×™ ×©×œ ×”×”×ª× ×”×’×•×ª - ×‘×•×—×Ÿ', date: '2025-12-20T13:45:00', icon: 'ğŸ§ ' },
  { title: '×ª××•×¨×™×•×ª ×‘××™×©×™×•×ª - ×”×’×©×ª ×ª××œ×•×œ', date: '2025-12-22T23:59:00', icon: 'ğŸ“' },
  { title: '×‘×¡×™×¡ ×‘×™×•×œ×•×’×™ ×©×œ ×”×”×ª× ×”×’×•×ª - ×‘×•×—×Ÿ', date: '2025-12-30T13:45:00', icon: 'ğŸ§ ' },
  { title: '×ª××•×¨×™×•×ª ×‘××™×©×™×•×ª - ×”×’×©×” ×¡×•×¤×™×ª', date: '2025-12-30T23:59:00', icon: 'ğŸ“' },
  { title: '×ª×”×œ×™×›×™× ×§×•×’× ×˜×™×‘×™×™× ×‘×³ - ×‘×•×—×Ÿ', date: '2026-01-18T13:45:00', icon: 'ğŸ§©' },
];

const honorsEvents = [
  { title: '1st Research Proposal Deadline', date: '2025-11-25T23:59:00', icon: 'ğŸ¯' },
  { title: '2nd Research Proposal Deadline', date: '2025-12-16T23:59:00', icon: 'ğŸ¯' },
  { title: '3rd Research Proposal Deadline', date: '2026-01-06T23:59:00', icon: 'ğŸ¯' },
  { title: 'Presentation Prof. Shachar Ayal', date: '2026-01-06T13:00:00', icon: 'ğŸ¤' },
  { title: '4th Research Proposal Deadline', date: '2026-01-17T23:59:00', icon: 'ğŸ¯' },
  { title: 'Prep With Saar', date: '2026-01-20T10:00:00', icon: 'ğŸ§‘â€ğŸ«' },
];

function getRemainingTime(dateStr) {
  const now = new Date();
  const then = new Date(dateStr);
  const diff = then - now;
  if (diff <= 0) return { text: '×¢×‘×¨', class: 'gray' };
  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
  return {
    text: `${days} ×™××™× ${hours} ×©×¢×•×ª`,
    class: days > 7 ? 'green' : days > 3 ? 'yellow' : 'red'
  };
}

function renderEvents(events, tableId, isRTL = true) {
  const sorted = [...events].sort((a, b) => new Date(a.date) - new Date(b.date));
  const container = document.getElementById(tableId);
  sorted.forEach(event => {
    const { text, class: urgency } = getRemainingTime(event.date);
    const row = document.createElement('tr');
    row.className = urgency;
    const iconCell = `<span class="row-icon">${event.icon}</span>`;
    if (isRTL) {
      row.innerHTML = `<td>${iconCell}${event.title}</td><td class="countdown">${text}</td>`;
    } else {
      row.innerHTML = `<td class="countdown">${text}</td><td>${event.title}${iconCell}</td>`;
    }
    container.appendChild(row);
  });
}

renderEvents(mainEvents, 'mainEvents', true);
renderEvents(honorsEvents, 'honorsEvents', false);

setInterval(() => {
  document.getElementById('mainEvents').innerHTML = '';
  document.getElementById('honorsEvents').innerHTML = '';
  renderEvents(mainEvents, 'mainEvents', true);
  renderEvents(honorsEvents, 'honorsEvents', false);
}, 60000);
</script>
